language: generic

matrix:
  include:
    - env: PROJECT=packages/cra-template-rmw
      node_js: lts
    - env: PROJECT=packages/rmw-shell
      node_js: lts

before_script: echo $TRAVIS_COMMIT_RANGE
script: if .travis/project-has-new-commits.sh $TRAVIS_COMMIT_RANGE $PROJECT; then cd $PROJECT && npm run test; else echo "NO CHANGES SINCE LAST COMMIT"; fi
